<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hayat & Co. | Timeless Luxury</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #c5a059; --bg-dark: #0a0a0a; --text-light: #f8f8f8; --text-muted: #a0a0a0; --glass: rgba(255, 255, 255, 0.03); --border: rgba(255, 255, 255, 0.1); }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Montserrat', sans-serif; background: var(--bg-dark); color: var(--text-light); overflow-x: hidden; scroll-behavior: smooth; }
        
        /* Intro Header */
        .intro-header { position: fixed; top:0; left:0; width:100%; height: 100vh; display: flex; align-items: center; justify-content: center; background: radial-gradient(circle at center, #1a1a1a 0%, #0a0a0a 100%); z-index: 9999; animation: fadeOutBackground 1.5s ease-in-out forwards; animation-delay: 3s; }
        .intro-logo { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 10vw, 5rem); letter-spacing: 8px; color: var(--primary); opacity: 0; transform: translateY(30px); animation: fadeInUp 1.5s ease-out forwards; }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeOutBackground { to { opacity: 0; visibility: hidden; } }
        
        /* Sale Banner */
        .sale-banner { background: var(--primary); color: #000; overflow: hidden; white-space: nowrap; padding: 8px 0; font-weight: 700; font-size: 12px; position: sticky; top: 0; z-index: 1000; }
        .marquee { display: inline-block; animation: marquee 15s linear infinite; }
        @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
        
        .main-logo-container { text-align: center; padding: 20px; background: var(--bg-dark); }
        .main-logo-img { height: 70px; width: auto; object-fit: contain; }
        
        /* Section Headers with Background */
        .section-header { font-family: 'Playfair Display', serif; font-size: 1.8rem; margin-bottom: 40px; padding: 50px 25px; text-transform: uppercase; color: #fff; border-left: 6px solid var(--primary); background: #111; }
        .stock-header, .pre-header { background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('heading-bg.jpg'); background-size: cover; background-position: center; border-left: none; text-align: center; border-bottom: 2px solid var(--primary); }

        .section { padding: 60px 5%; max-width: 1400px; margin: auto; }
        
        /* Brand Grid */
        .brands-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 40px; }
        @media (min-width: 768px) { .brands-grid { grid-template-columns: repeat(5, 1fr); } }
        .brand-item { cursor: pointer; transition: 0.4s; text-align: center; background: var(--glass); padding: 20px; border: 1px solid var(--border); border-radius: 8px; }
        .brand-item:hover { transform: translateY(-5px); border-color: var(--primary); }
        .brand-logo { width: 100%; height: 50px; object-fit: contain; margin-bottom: 10px; }
        .brand-label { font-size: 10px; color: var(--primary); font-weight: 600; text-transform: uppercase; }
        
        /* Product Cards */
        .popular-slider { display: flex; overflow-x: auto; gap: 20px; padding: 20px 0; scrollbar-width: none; }
        .popular-slider::-webkit-scrollbar { display: none; }
        .popular-card { min-width: 280px; background: var(--glass); border: 1px solid var(--border); padding: 20px; border-radius: 12px; }
        
        .hero-container { height: 70vh; display: flex; align-items: center; justify-content: center; text-align: center; background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1614164185128-e4ec99c436d7?auto=format&fit=crop&q=80&w=2000'); background-size: cover; background-position: center; }
        .shop-now-btn { margin-top: 25px; padding: 15px 40px; background: var(--primary); color: #000; border: none; font-weight: 700; cursor: pointer; letter-spacing: 2px; }
        
        /* About Section */
        .modern-about { position: relative; padding: 120px 5%; background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('about-bg.jpg'); background-size: cover; background-position: center; overflow: hidden; display: flex; justify-content: center; }
        .about-card { position: relative; z-index: 2; max-width: 800px; background: rgba(0, 0, 0, 0.7); border: 1px solid var(--primary); padding: 60px 40px; border-radius: 15px; backdrop-filter: blur(10px); text-align: center; transition: 1.5s ease; }
        .about-card h2 { font-family: 'Playfair Display', serif; color: var(--primary); font-size: 2.8rem; margin-bottom: 25px; }
        
        .watch-display { width: 100%; height: 280px; overflow: hidden; border-radius: 8px; margin-bottom: 15px; }
        .watch-image { width: 100%; height: 100%; object-fit: cover; }
        .price { color: var(--primary); font-size: 1.1rem; margin-bottom: 15px; }
        .btn-add { width: 100%; padding: 12px; background: transparent; color: #fff; border: 1px solid var(--primary); cursor: pointer; text-transform: uppercase; font-weight: 600; transition: 0.3s; }
        .btn-add:hover { background: var(--primary); color: #000; }
        
        /* Cart */
        #cart { position: fixed; top: 0; right: -420px; width: 100%; max-width: 400px; height: 100%; z-index: 2001; padding: 30px; transition: 0.5s; background-color: #111; box-shadow: -10px 0 30px rgba(0,0,0,0.8); overflow-y: auto; }
        #cart.open { right: 0; }
        #cart-btn { position: fixed; bottom: 30px; right: 30px; background: var(--primary); width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; z-index: 2000; cursor: pointer; color: black; font-weight: bold; }
        #popup { position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-100px); background: var(--primary); color: #000; padding: 12px 25px; border-radius: 4px; font-weight: 700; z-index: 3000; transition: 0.5s; }
        #popup.show { transform: translateX(-50%) translateY(0); }
    </style>
</head>
<body>

<div class="intro-header" id="intro"><div class="intro-logo">HAYAT & CO.</div></div>

<div class="sale-banner">
    <div class="marquee">✨ ADDITIONAL 10% DISCOUNT ON PRE PAID ORDERS — AUTHENTIC LUXURY SINCE 2024 — ORDER NOW! ✨                ✨ FREE SHIPPING ON ALL ORDERS ✨</div>
</div>

<div id="popup">ORDER PLACED SUCCESSFULLY✅</div>

<div id="home-view">
    <div class="main-logo-container">
        <img src="main-logo.png" alt="Hayat & Co." class="main-logo-img">
    </div>

    <section class="hero-container">
        <div class="hero-content">
            <h1 style="font-family:'Playfair Display'; font-size: clamp(3rem, 10vw, 5rem);">HAYAT & CO.</h1>
            <button class="shop-now-btn" onclick="document.getElementById('brand-sec').scrollIntoView({behavior:'smooth'})">EXPLORE BRANDS</button>
        </div>
    </section>

    <section class="section" id="brand-sec">
        <h2 class="section-header">SHOP BY BRAND</h2>
        <div class="brands-grid" id="brands-container"></div>
    </section>

    <section class="section">
        <h2 class="section-header">MOST POPULAR</h2>
        <div class="popular-slider" id="popular-slider"></div>
    </section>

    <section class="modern-about">
        <div class="about-card">
            <h2>OUR LEGACY</h2>
            <p style="line-height: 1.8; font-size: 1.1rem; color: #ddd;">Hayat & Co. stands as a beacon of horological excellence in Pakistan. Established in 2024, we specialize in sourcing the world's most coveted timepieces. From the precision of Seiko to the prestige of Rolex, we ensure every watch tells a story of luxury, authenticity, and timeless style.</p>
        </div>
    </section>
</div>

<div id="brand-view" style="display:none;">
    <div class="main-logo-container"><img src="main-logo.png" class="main-logo-img"></div>
    <h2 id="brand-name-display" style="text-align:center; font-family:'Playfair Display'; font-size:3rem; color:var(--primary); margin:20px 0;">Brand</h2>
    <div style="display:flex; justify-content:center; margin-bottom:30px;">
        <button class="btn-add" style="width:auto; padding:10px 40px;" onclick="showHome()">← BACK</button>
    </div>
    <div class="section">
        <div id="stock-container">
            <h2 class="section-header stock-header">IN STOCK</h2>
            <div id="brand-stock-grid" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:25px;"></div>
        </div>
        <div id="pre-container" style="margin-top:50px;">
            <h2 class="section-header pre-header">PRE-ORDER</h2>
            <div id="brand-pre-grid" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:25px;"></div>
        </div>
    </div>
</div>

<div id="cart-btn" onclick="toggleCart()">CART</div>
<div id="cart">
    <div style="text-align:center; margin-bottom:20px;"><img src="main-logo.png" style="height:50px;"></div>
    <h2 style="font-family:'Playfair Display'; margin-bottom:20px; text-align:center;">Your Selection</h2>
    <div id="cartItems">Empty</div>
    <div style="margin-top:20px; border-top:1px solid var(--border); padding-top:20px;">
        <div id="total" style="font-size:1.2rem; color:var(--primary); margin-bottom:15px;">Total: Rs 0</div>
        <input type="text" id="cname" placeholder="Full Name" style="width:100%; padding:10px; margin-bottom:10px; background:#1a1a1a; border:1px solid #333; color:#fff;">
        <input type="tel" id="cphone" placeholder="Phone Number" style="width:100%; padding:10px; margin-bottom:10px; background:#1a1a1a; border:1px solid #333; color:#fff;">
        <textarea id="caddress" placeholder="Shipping Address" style="width:100%; padding:10px; margin-bottom:10px; background:#1a1a1a; border:1px solid #333; color:#fff;"></textarea>
        <button id="submitBtn" class="btn-add" style="background:var(--primary); color:#000;" onclick="confirmOrder()">CONFIRM ORDER</button>
        <button class="btn-add" style="margin-top:10px; border:none;" onclick="toggleCart()">CLOSE</button>
    </div>
</div>

<script>
const DATABASE_URL = "https://hayatwatches-e7bd1-default-rtdb.firebaseio.com/";

const brandsList = [
    { name: "Hamilton", logo: "hamilton.png" },
    { name: "Seiko", logo: "seiko.png" },
    { name: "Omega X Swatch", logo: "omega-x-swatch.png" },
    { name: "Orient", logo: "orient.png" },
    { name: "Rado", logo: "rado.png" },
    { name: "Oris", logo: "oris.png" },
    { name: "Tissot", logo: "tissot.png" },
    { name: "Rolex", logo: "rolex.png" },
    { name: "Patek Philip", logo: "patek-philip.png" }
];

let watchData = [];

function loadProducts() {
    fetch(`${DATABASE_URL}/watches.json`)
    .then(res => res.json())
    .then(data => {
        if (data) {
            watchData = Object.values(data);
            renderBrands();
            renderPopularSlider();
        }
    });
}

window.onload = () => {
    loadProducts();
    renderBrands();
};

function renderBrands() {
    const container = document.getElementById('brands-container');
    container.innerHTML = brandsList.map(b => `
        <div class="brand-item" onclick="showBrand('${b.name}')">
            <img src="${b.logo}" class="brand-logo" alt="${b.name}" onerror="this.style.display='none'">
            <div class="brand-label">${b.name}</div>
        </div>`).join('');
}

function renderPopularSlider() {
    const slider = document.getElementById('popular-slider');
    slider.innerHTML = watchData.slice(0, 8).map(w => `
        <div class="popular-card">
            <div class="watch-display"><img src="${w.img}" class="watch-image"></div>
            <h4>${w.name}</h4>
            <div class="price">${w.price}</div>
            <button class="btn-add" onclick="addToCart('${w.name}', '${w.price}', '${w.type}')">Add to Cart</button>
        </div>`).join('');
}

function showBrand(brand) {
    document.getElementById('home-view').style.display = 'none';
    document.getElementById('brand-view').style.display = 'block';
    document.getElementById('brand-name-display').innerText = brand;
    window.scrollTo(0,0);
    
    const stockGrid = document.getElementById('brand-stock-grid');
    const preGrid = document.getElementById('brand-pre-grid');
    stockGrid.innerHTML = ''; preGrid.innerHTML = '';
    
    const filtered = watchData.filter(w => w.brand.toLowerCase() === brand.toLowerCase());
    filtered.forEach(w => {
        const card = `
        <div class="popular-card" style="min-width:0;">
            <div class="watch-display"><img src="${w.img}" class="watch-image"></div>
            <h4>${w.name}</h4>
            <div class="price">${w.price}</div>
            <button class="btn-add" onclick="addToCart('${w.name}', '${w.price}', '${w.type}')">Add to Cart</button>
        </div>`;
        if(w.type === 'stock') stockGrid.innerHTML += card;
        else preGrid.innerHTML += card;
    });
}

function showHome() {
    document.getElementById('brand-view').style.display = 'none';
    document.getElementById('home-view').style.display = 'block';
}

let cart = [];
function toggleCart() { document.getElementById('cart').classList.toggle('open'); }

function addToCart(name, price, type) {
    // Convert price string to number for math
    const numPrice = parseInt(price.replace(/[^0-9]/g, '')) || 0;
    cart.push({name, price: numPrice, displayPrice: price, type, payMethod: 'advance'});
    updateCartUI();
    toggleCart();
}

function updateCartUI() {
    let total = 0, html = '';
    cart.forEach((item, i) => {
        let p = (item.payMethod === 'full') ? item.price * 0.9 : (item.type === 'stock' ? 1000 : item.price * 0.5);
        total += p;
        html += `
        <div style="background:rgba(255,255,255,0.05); padding:10px; margin-bottom:10px; border:1px solid #333;">
            <div style="font-size:12px;">${item.name}</div>
            <select onchange="cart[${i}].payMethod=this.value; updateCartUI();" style="background:#000; color:#fff; width:100%; margin:5px 0; padding:5px;">
                <option value="advance">Pay Advance</option>
                <option value="full">Pay Full (10% OFF)</option>
            </select>
            <div style="color:var(--primary);">Rs. ${Math.round(p).toLocaleString()}</div>
            <button onclick="cart.splice(${i},1); updateCartUI();" style="color:red; background:none; border:none; cursor:pointer; font-size:10px;">REMOVE</button>
        </div>`;
    });
    document.getElementById('cartItems').innerHTML = html || 'Cart is empty';
    document.getElementById('total').innerText = 'Total: Rs. ' + Math.round(total).toLocaleString();
}

function confirmOrder() {
    const name = document.getElementById('cname').value;
    const phone = document.getElementById('cphone').value;
    const address = document.getElementById('caddress').value;
    const btn = document.getElementById('submitBtn');

    if(!name || !phone || cart.length === 0) {
        alert("Please fill details and add items to cart!");
        return;
    }

    btn.innerText = "SENDING...";
    btn.disabled = true;

    const newOrder = {
        user: name,
        phone: phone,
        address: address,
        item: cart.map(i => i.name).join(', '),
        status: "Pending",
        total: document.getElementById('total').innerText,
        date: new Date().toLocaleString()
    };

    fetch(`${DATABASE_URL}/orders.json`, { method: 'POST', body: JSON.stringify(newOrder) })
    .then(() => {
        document.getElementById('popup').classList.add('show');
        cart = []; updateCartUI();
        setTimeout(() => {
            document.getElementById('popup').classList.remove('show');
            btn.innerText = "CONFIRM ORDER";
            btn.disabled = false;
            toggleCart(); showHome();
        }, 3000);
    });
}
</script>
</body>
</html>
